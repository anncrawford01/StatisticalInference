---
title: "Central Limit Theorem"
author: "Ann Crawford"
highlighter: highlight.js
output:
  pdf_document: default
  html_document: default
mode: selfcontained
hitheme: tomorrow
subtitle: Statistical Inference Project Part I, Class 6 in data science series
framework: io2012
#url:
#  assets: ../../assets
#  lib: ../../librariesNew
widgets: mathjax
---
```{r }
# Clear our workspace
rm(list=ls())
# dependencies
install.packages("dplyr",repos = "http://cran.us.r-project.org")
install.packages("ggplot", repos = "http://cran.us.r-project.org")
install.packages("gridExtra",repos = "http://cran.us.r-project.org")
library(ggplot2)
library(grid)
library(gridExtra)
```
## Central Limit Theorem 
The Central Limit Theorem (CLT) states that the distribution of averages of independent and identically distributed (iid) variables becomes that of a **standard normal** as the sample size increases even if the original variables are not normally distrubted.  This document investigates the exponetial distribution and the distribution on the average of 40 exponetials generated using R function rexp.
$$\frac{\bar X_n - \mu}{\sigma / \sqrt{n}} = 
    \frac{\mbox{Estimate} - \mbox{Mean of estimate}}{\mbox{Std. Err. of estimate}}.
$$


## The sample mean compared to the theoritical mean
```{r ,fig.height=3.5,fig.width=8, fig.align='center', echo = FALSE, warning=FALSE}

## set the seed
set.seed(1)
lambda <- 0.2
m <- 40
n <- 10000 # sample size
mean1 <- 1/lambda
stddv <- 1/ lambda
expsample <- rexp(m*n,lambda)

mm <-data.frame((apply(matrix(expsample,nrow = n/m, ncol= n),1,mean)) )
colnames(mm)= c("x")

expsample <-data.frame(expsample)
colnames(expsample)= c("x")

library(grid)
library(gridExtra)
    g <- ggplot(mm, aes(x = x))
    g <- g + geom_histogram(bins = 25) 
    g <- g + geom_vline(xintercept = 1/lambda, size = 1, color = "red")
    g <- g + labs(title = paste('mu = 1/lambda =', 1/lambda ,' n = ', n))
    g

    g2 <- ggplot(data.frame(expsample),aes(x = expsample ))
    g2 <- g2 + geom_histogram(bins = 25) 
    g2 <- g2 + labs(title = paste('Rexp' ,' n = ', n))
    g2
    grid.arrange(g, g2, ncol = 2, top = "Exponetial VS means of 40 ")

```
## The sample variance vs theoritical variance

## Show that the distribution of the sample means is normal
The histogram shows a distribution with a shape similar to the normal curve. The density proportions shown in the table below are approximately normal.

