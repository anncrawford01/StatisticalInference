---
title: "Central Limit Theorem"
author: "Ann Crawford"
highlighter: highlight.js
output:
  html_document: default
  pdf_document: default
mode: selfcontained
hitheme: tomorrow
subtitle: Statistical Inference Project Part I, Class 6 in data science series
framework: io2012
url:
  assets: ../../assets
  lib: ../../librariesNew
widgets: mathjax
---
#Snopiss
## Central Limit Theorem 
The Central Limit Theorem (CLT) states that the distribution of averages of independent and identically distributed (iid) variables becomes that of a **standard normal** as the sample size increases even if the original variables are not normally distrubted.  This document investigates the exponetial distribution, generated using R function rexp and compares it to the CLT. 
$$\frac{\bar X_n - \mu}{\sigma / \sqrt{n}} = 
    \frac{\mbox{Estimate} - \mbox{Mean of estimate}}{\mbox{Std. Err. of estimate}}.
$$

```{r}
# Clear our workspace
rm(list=ls())
```
---

## The sample mean compared to the theoritical mean
```{r ,fig.height=3.5,fig.width=8, fig.align='center', echo = FALSE}
library(ggplot2)
## set the seed
set.seed(1)
lambda <- 0.2
m <- 40
n <- 10000 # sample size
mean1 <- 1/lambda
stddv <- 1/ lambda
expsample <-rexp(m*n,lambda)

mm <-data.frame((apply(matrix(expsample,nrow = n/m, ncol= n),1,mean)) )
colnames(mm)= c("x")

#par(mfrow = c(1, 2)) 
library(grid)
library(gridExtra)
    g <- ggplot(mm, aes(x = x))
    g <- g + geom_histogram(bins = 25) 
    g <- g + geom_vline(xintercept = 1/lambda, size = 2, color = "red")
    g <- g + labs(title = paste('mu = 1/lambda =', 1/lambda ,' sample size = ', n))
   g

     g2 <- ggplot(data.frame(expsample),aes(x = expsample ))
    g2 <- g2 + geom_histogram(bins = 25) 
    g2 <- g2 + labs(title = paste('Rexp' ,' sample size = ', n))
   g2
   grid.arrange(g, g2, ncol = 2, top = "Main title")

```
## Example plotting sd
### CTL demonstartion using 
```{r ,fig.height=3.5,fig.width=8, fig.align='center', echo = FALSE}
library(ggplot2)

mm <-data.frame((apply(matrix(expsample,nrow = n/m, ncol= n),1,sd)))
colnames(mm)= c("x")
    g <- ggplot(mm, aes(x = x))
    g <- g + geom_histogram(bins = 25) 
    g <- g + geom_vline(xintercept = 1/lambda, size = 2)
    g <- g + labs(title = paste('sd = 1/lambda =', 1/lambda ,' sample size = ', n))
    g
```
## Show that the distribution of the sample means is normal
The histogram shows a distribution with a shape similar to the normal curve. The density proportions shown in the table below are approximately normal.
